generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String        @id @default(uuid())
  fullname      String        @unique
  email         String        @unique
  locked        Boolean       @default(false)
  role          Role          @default(USER)
  organizations Organization?
}

model Organization {
  id           String       @id @default(uuid())
  domainName   String       @unique
  ownerId      String       @unique
  applications Application?
  owner        User         @relation(fields: [ownerId], references: [id])
}

model Application {
  id             String       @id @default(uuid())
  title          String       @unique
  organizationId String       @unique
  organization   Organization @relation(fields: [organizationId], references: [id])
}

model Area {
  id          String       @id @default(uuid())
  name        String
  permissions Permissions?
}

model Permissions {
  id     String @id @default(uuid())
  name   String
  areaId String @unique
  area   Area   @relation(fields: [areaId], references: [id])
}

enum Role {
  USER
  ADMIN
}
